<?xml version="1.0" encoding="UTF-8"?>  
    <!DOCTYPE mapper  
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
          "http://mybatis.org/dtd/mybatis-3-mapper.dtd">        
<mapper namespace="com.yuzhaibu.dao.User_normalDao">  
    <select id="findAll" resultType="com.yuzhaibu.entity.User_normal">
    	select * from user_normal
    </select>
      
    <select id="findByUsername" parameterType="String" resultType="com.yuzhaibu.entity.User_normal">
    	select * from user_normal where username=#{username}
    </select>
    
    <select id="findByUsernameAndPwd" parameterType="String" resultType="com.yuzhaibu.entity.User_normal">
    	select * from user_normal where username=#{0} and pwd=#{1}
    </select>  
    
    <update id="updateUser" parameterType="com.yuzhaibu.entity.User_normal">
    	update user_normal set nickname=#{nickname},mobile=#{mobile},qq=#{qq},school=#{school},userclass=#{userclass} where username=#{username}
    </update>
    
    <select id="findByItemId" parameterType="int" resultType="com.yuzhaibu.entity.User_normal">
    	select * from user_normal u,item i where u.usernormal_id = i.sellerid and i.itemid=#{itemid}
    </select>
    
    <insert id="regUser" parameterType="com.yuzhaibu.entity.User_normal">
    	insert into user_normal(username,pwd,email,nickname,authen,levexp,usernormalcreatime) values(#{username},#{pwd},#{email},#{nickname},0,0,now())
    </insert>
    
    <select id="findUserIdByUsername" parameterType="String" resultType="int">
    	select usernormal_id from user_normal where username = #{username}
    </select>
 </mapper>  