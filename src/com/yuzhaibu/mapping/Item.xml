<?xml version="1.0" encoding="UTF-8"?>  
    <!DOCTYPE mapper  
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
          "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
          
<mapper namespace="com.yuzhaibu.dao.ItemDao">
	
	<select id="findItemByUserId" parameterType="int" resultType="com.yuzhaibu.entity.Item">
		select * from item where sellerid=#{sellerid} limit 0,5;
	</select>
	
	<select id="findFavItemByUserId" parameterType="int" resultMap="favResultMap">
		select itemid,itemname,sellprice,originprice,color,tradeposition,sellerid,discreption,itemmainimg,viewtime,itemcreatime,sellstatus,u.nickname as sellernickname,u.authen as sellerauthen,favid from item i,fav f,user_normal u where itemid=item_id and setfavuserid=#{userid} and usernormal_id=i.sellerid limit 0,5;
	</select>
	
	<resultMap type="com.yuzhaibu.entity.Fav" id="favResultMap">
		<id property="favid" column="favid"></id>
		<result property="sellerauthen" column="sellerauthen"/>
		<result property="sellernickname" column="sellernickname"/>
		<association property="item" javaType="com.yuzhaibu.entity.Item">
             <id property="itemid" column="itemid"/>
             <result property="itemname" column="itemname"/>
             <result property="sellprice" column="sellprice"/>
             <result property="originprice" column="originprice"/>
             <result property="color" column="color"/>
             <result property="tradeposition" column="tradeposition"/>
             <result property="sellerid" column="sellerid"/>
             <result property="discreption" column="discreption"/>
             <result property="itemmainimg" column="itemmainimg"/>
             <result property="itemcreatime" column="itemcreatime"/>
             <result property="viewtime" column="viewtime"/>
             <result property="sellstatus" column="sellstatus"/>
        </association>
	</resultMap>
	
</mapper>